<!-- @pageTitle 메인 -->
<!-- @pageCreated 2025-04-17 -->
<!-- @pageUpdated 2025-04-21 -->
<!-- @pageNote 메인 구성 변경 -->
<!DOCTYPE html>
<html lang="ko">

<head>
    {{> meta}}
</head>

<body>

    {{> header}}

    <!-- main // -->
    <main id="main">
        <section class="main-visual">
            <div class="main-visual-container">
                <h2 class="split-text">Dream in future</h2>
                <div>
                    <p class="split-text">축적된 경험과 최고의 기술력으로</p>
                    <p class="split-text">꿈이 담긴 미래 주택 문화 건설에 앞장서겠습니다.</p>
                </div>
                <div class="scroll-down-indicator">Scroll Down <i><svg xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink" width="19px" height="11px">
                            <path fill-rule="evenodd" fill="rgb(238, 238, 238)"
                                d="M18.692,1.500 L9.500,10.693 L0.308,1.500 L1.722,0.086 L9.500,7.864 L17.278,0.086 L18.692,1.500 Z" />
                        </svg></i></div>
            </div>
            <div class="main-visual-background"></div>
        </section>

        <section class="section-1">
            <div class="text-wrapper">
                <div class="text-line">
                    <div class="text-fill">원칙과 성심을 기본으로</div>
                    <div class="text-stroke">원칙과 성심을 기본으로</div>
                </div>
                <div class="text-line">
                    <div class="text-fill">꿈이 담긴 미래주택문화 선도</div>
                    <div class="text-stroke">꿈이 담긴 미래주택문화 선도</div>
                </div>

                <div class="desc">"원칙"과 "성심"을 기본으로 고객의 신뢰,<br>고객의 행복이 커가는 아파트를 건설하는데 모든 노력을 다하겠습니다.</div>
            </div>

            <div class="biz-section">
                <div class="biz-left">
                    <h2>업계 최고의<br>도시정비사업<br>전문 회사</h2>
                    <a href="#" class="btn-more1">VIEW MORE</a>
                </div>
                <div class="bizright">
                    <ul>
                        <li class="biz-card">
                            <div class="img"><img src="/assets/images/biz1.png" alt=""></div>
                            <div class="detail">
                                <h3>재개발</h3>
                                <p>업계 최고의 도시정비사업 전문 회사</p>
                            </div>
                        </li>
                        <li class="biz-card">
                            <div class="img"><img src="/assets/images/biz2.png" alt=""></div>
                            <div class="detail">
                                <h3>재건축</h3>
                                <p>업계 최고의 도시정비사업 전문 회사</p>
                            </div>
                        </li>
                        <li class="biz-card">
                            <div class="img"><img src="/assets/images/biz3.png" alt=""></div>
                            <div class="detail">
                                <h3>소규모정비사업</h3>
                                <p>업계 최고의 도시정비사업 전문 회사</p>
                            </div>
                        </li>
                        <li class="biz-card">
                            <div class="img"><img src="/assets/images/biz4.png" alt=""></div>
                            <div class="detail">
                                <h3>리모델링</h3>
                                <p>업계 최고의 도시정비사업 전문 회사</p>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>

        </section>

        <!-- 추가 섹션은 여기에 배치됩니다 -->
        <section class="service-section">
            <div class="inner">
                <h2 class="service-title">고객감동의 서비스를 실현하겠습니다</h2>
                <div class="service-list">
                    <div class="service-item">
                        <img src="/assets/images/service-1.png" alt="" />
                        <h3>투명성 확보</h3>
                        <p>합리적 주민의사 결정 수렴</p>
                    </div>
                    <div class="service-item">
                        <img src="/assets/images/service-2.png" alt="" />
                        <h3>사업이익 극대화</h3>
                        <p>계약서 검토 및 우량업체 선정</p>
                    </div>
                    <div class="service-item">
                        <img src="/assets/images/service-3.png" alt="" />
                        <h3>사업기간 단축</h3>
                        <p>유기적사업추진</p>
                    </div>
                    <div class="service-item">
                        <img src="/assets/images/service-4.png" alt="" />
                        <h3>이해관계 조정</h3>
                        <p>지역특성에 맞는 관리처분 계획</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="dream-section">
            <div class="dream-bg"><img src="/assets/images/dream-bg.png" alt=""></div>
            <div class="inner">
                <div class="dream-left">
                    <div class="text-wrapper">
                        <div class="text-line">
                            <div class="text-fill">앞선 창의와 도전으로</div>
                            <div class="text-stroke">앞선 창의와 도전으로</div>
                        </div>
                        <div class="text-line">
                            <div class="text-fill">미래를 준비합니다</div>
                            <div class="text-stroke">미래를 준비합니다</div>
                        </div>
                    </div>
                    <div class="desc">
                        급속한 시장변화에 선두에 나설 수 있도록 연구개발 및 인재육성에 투자를 아끼지 않고 있으며,<br>
                        언제나 남들보다 한발 앞서서 준비하는 자세로 내일에 대비하고 있습니다.
                    </div>
                </div>
                

                <div class="dream-end">
                    <div class="end-content">
                        <h2>고객과 함께 하는 기업, 우리씨엠씨<br>온 정성을 다해 업무를 수행하겠습니다.</h2>
                        <div class="jump-link">
                            <a href="" class="btn-more2">지명원</a>
                            <a href="" class="btn-more2">오시는길 </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    {{> footer}}
    
    
    <script type="module" src="/js/main.js"></script>
    <script>
        // GSAP 애니메이션 초기화
        gsap.registerPlugin(ScrollTrigger);
        
        // 텍스트 애니메이션 함수
        function initTextAnimations() {
            const section = document.querySelector(".section-1"); // 특정 섹션
            const lines = section.querySelectorAll(".text-line");
            
            // 첫 번째 줄 애니메이션
            gsap.fromTo(
                lines[0].querySelector(".text-fill"),
                { clipPath: "inset(0 100% 0 0)" },
                {
                    clipPath: "inset(0 0% 0 0)",
                    ease: "none",
                    scrollTrigger: {
                        trigger: lines[0],
                        start: "top 80%",
                        end: "top 30%",
                        scrub: true
                    }
                }
            );
            
            // 두 번째 줄 애니메이션
            gsap.fromTo(
                lines[1].querySelector(".text-fill"),
                { clipPath: "inset(0 100% 0 0)" },
                {
                    clipPath: "inset(0 0% 0 0)",
                    ease: "none",
                    scrollTrigger: {
                        trigger: lines[0],
                        start: "top 30%",
                        end: "top 0%",
                        scrub: true
                    }
                }
            );
        }
        
        // 페이지 로드 시 애니메이션 초기화
        document.addEventListener('DOMContentLoaded', () => {
            initTextAnimations();
            // 추가 섹션에 대한 애니메이션은 여기에 추가
            gsap.to(".main-visual-background", {
                scale: 1,
                opacity: 1,
                duration: 3.5,
                ease: "power2.out"
            });

            document.querySelectorAll('.split-text').forEach(el => {
            const text = el.textContent;
            el.innerHTML = '';

            text.split('').forEach(char => {
                const span = document.createElement('span');
                span.textContent = char;
                el.appendChild(span);
            });

            gsap.to(el.querySelectorAll('span'), {
                opacity: 1,
                y: 0,
                stagger: 0.04,
                duration: 0.8,
                ease: 'power2.out',
                delay: 1
            });
            });

            ScrollTrigger.create({
                trigger: ".biz-section",
                start: "top top",
                end: "bottom bottom",
                pin: ".biz-left",
                //pinSpacing: true
            });

            
           // service-section 애니메이션
           const serviceTl = gsap.timeline({
                scrollTrigger: {
                    trigger: ".service-section",
                    start: "top center",
                    end: "top 20%",
                    scrub: 1,
                    //markers: true
                }
            });

            // 배경색 변경과 타이틀 애니메이션
            serviceTl.to(".service-section", {
                backgroundColor: "#0b448e",
                color: "#fff",
                duration: 1
            });

            serviceTl.to(".service-title", {
                y: 0,
                opacity: 1,
                color: "#fff",
                duration: 1
            }, "<");

            // 서비스 아이템들 순차적으로 등장
            gsap.utils.toArray(".service-item").forEach((item, i) => {
                serviceTl.to(item, {
                    opacity: 1,
                    y: 0,
                    duration: 0.5,
                    ease: "power2.out"
                }, "-=0.3");
            });

            // 아이템 hover 효과
            gsap.utils.toArray(".service-item").forEach(item => {
                item.addEventListener("mouseenter", () => {
                    gsap.to(item.querySelector("img"), {
                        scale: 1.1,
                        filter: "drop-shadow(0 0 6px #00f0ff80)",
                        duration: 0.3
                    });
                });

                item.addEventListener("mouseleave", () => {
                    gsap.to(item.querySelector("img"), {
                        scale: 1,
                        filter: "none",
                        duration: 0.3
                    });
                });
            });

            // 데스크톱 애니메이션
            ScrollTrigger.matchMedia({
                "(min-width: 1024px)": function() {
                    const tl = gsap.timeline({
                        scrollTrigger: {
                            trigger: ".dream-section",
                            start: "top top",
                            end: "+=200%",
                            scrub: 1,
                            pin: true,
                            anticipatePin: 1,
                            markers: true
                        }
                    });

                    // 배경 이미지 나타나기 (우측에서 중앙으로)
                    tl.to(".dream-bg", {
                        position: "fixed",
                        width: "100vw",
                        height: "100vh",
                        right: 0,
                        top: 0,
                        transform: "none",
                        clipPath: "circle(100% at 50% 50%)",
                        ease: "none"
                    });

                    // 텍스트 채우기 애니메이션 (배경이 30% 정도 채워졌을 때 시작)
                    tl.to(".text-fill", {
                        clipPath: "inset(0 0% 0 0)",
                        ease: "none"
                    }, "-=1");

                    // dream-left 좌측으로 사라지기 (배경이 60% 정도 채워졌을 때 시작)
                    tl.to(".dream-left", {
                        opacity: 0,
                        x: "-100%",
                        ease: "none"
                    }, "-=0.5");

                    // dream-end 나타나기 (배경이 80% 정도 채워졌을 때 시작)
                    tl.to(".dream-end", {
                        y: "0%",
                        opacity: 1,
                        ease: "none"
                    }, "-=0.5");

                    // dream-end 텍스트 나타나기
                    tl.to(".dream-end .end-content h2", {
                        opacity: 1,
                        y: 0,
                        ease: "none"
                    }, "-=0.3");

                    tl.to(".dream-end .end-content .jump-link", {
                        opacity: 1,
                        y: 0,
                        ease: "none"
                    }, "-=0.3");
                },
                // 모바일 애니메이션
                "(max-width: 768px)": function() {
                    gsap.set(".dream-bg", {
                        width: "100vw",
                        height: "100vh",
                        right: 0,
                        clipPath: "circle(100% at 50% 50%)"
                    });
                    gsap.set(".text-fill", {
                        clipPath: "inset(0 0% 0 0)"
                    });
                    gsap.set(".dream-end", {
                        y: "0%",
                        opacity: 1
                    });
                    gsap.set(".dream-end .end-content h2, .dream-end .end-content p", {
                        opacity: 1,
                        y: 0
                    });
                }
            });
        });
      </script>
</body>
</html>